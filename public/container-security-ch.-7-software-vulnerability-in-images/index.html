<!DOCTYPE html>
<html lang="en-us">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" />
<title>Container Security: Ch. 7 - Software Vulnerability in Images | John Montroy</title>
<meta name="title" content="Container Security: Ch. 7 - Software Vulnerability in Images" />
<meta name="description" content="
We need to scan for vulnerabilities in our container images. Vulnerabilities are publicly documented with a CVE - Common Vulnerabilities and Exposures - number, assigned by CNAs (CVE Numbering Authorities). The National Vulnerabilities Database (NVD) lists these vulnerabilities for visibility and usage.
Traditionally, we scan for vulnerabilities in software by listing out software installed on a host (via the root filesystem &#43; software installed by a package manager like npm or brew &#43; manual / adhoc installs via wget or curl (not a great idea)). Software can be updated or patched directly on the host." />
<meta name="keywords" content="container-security," />


<meta property="og:url" content="http://localhost:1313/container-security-ch.-7-software-vulnerability-in-images/">
  <meta property="og:site_name" content="John Montroy">
  <meta property="og:title" content="Container Security: Ch. 7 - Software Vulnerability in Images">
  <meta property="og:description" content="We need to scan for vulnerabilities in our container images. Vulnerabilities are publicly documented with a CVE - Common Vulnerabilities and Exposures - number, assigned by CNAs (CVE Numbering Authorities). The National Vulnerabilities Database (NVD) lists these vulnerabilities for visibility and usage.
Traditionally, we scan for vulnerabilities in software by listing out software installed on a host (via the root filesystem &#43; software installed by a package manager like npm or brew &#43; manual / adhoc installs via wget or curl (not a great idea)). Software can be updated or patched directly on the host.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2024-10-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-10-11T00:00:00+00:00">
    <meta property="article:tag" content="Container-Security">
    <meta property="og:image" content="http://localhost:1313/images/share.png">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/share.png">
  <meta name="twitter:title" content="Container Security: Ch. 7 - Software Vulnerability in Images">
  <meta name="twitter:description" content="We need to scan for vulnerabilities in our container images. Vulnerabilities are publicly documented with a CVE - Common Vulnerabilities and Exposures - number, assigned by CNAs (CVE Numbering Authorities). The National Vulnerabilities Database (NVD) lists these vulnerabilities for visibility and usage.
Traditionally, we scan for vulnerabilities in software by listing out software installed on a host (via the root filesystem &#43; software installed by a package manager like npm or brew &#43; manual / adhoc installs via wget or curl (not a great idea)). Software can be updated or patched directly on the host.">




  <meta itemprop="name" content="Container Security: Ch. 7 - Software Vulnerability in Images">
  <meta itemprop="description" content="We need to scan for vulnerabilities in our container images. Vulnerabilities are publicly documented with a CVE - Common Vulnerabilities and Exposures - number, assigned by CNAs (CVE Numbering Authorities). The National Vulnerabilities Database (NVD) lists these vulnerabilities for visibility and usage.
Traditionally, we scan for vulnerabilities in software by listing out software installed on a host (via the root filesystem &#43; software installed by a package manager like npm or brew &#43; manual / adhoc installs via wget or curl (not a great idea)). Software can be updated or patched directly on the host.">
  <meta itemprop="datePublished" content="2024-10-11T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-10-11T00:00:00+00:00">
  <meta itemprop="wordCount" content="370">
  <meta itemprop="image" content="http://localhost:1313/images/share.png">
  <meta itemprop="keywords" content="Container-Security">
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  :root {
    --width: 720px;
    --font-main: Verdana, sans-serif;
    --font-secondary: Verdana, sans-serif;
    --font-scale: 1em;
    --background-color: #fff;
    --heading-color: #222;
    --text-color: #444;
    --link-color: #3273dc;
    --visited-color: #8b6fcb;
    --code-background-color: #f2f2f2;
    --code-color: #222;
    --blockquote-color: #222;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --background-color: #01242e;
      --heading-color: #eee;
      --text-color: #ddd;
      --link-color: #8cc2dd;
      --visited-color: #8b6fcb;
      --code-background-color: #000;
      --code-color: #ddd;
      --blockquote-color: #ccc;
    }
  }

  body {
    font-family: var(--font-secondary);
    font-size: var(--font-scale);
    margin: auto;
    padding: 20px;
    max-width: var(--width);
    text-align: left;
    background-color: var(--background-color);
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: var(--text-color);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-main);
    color: var(--heading-color);
  }

  a {
    color: var(--link-color);
    cursor: pointer;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  nav a {
    margin-right: 8px;
  }

  strong,
  b {
    color: var(--heading-color);
  }

  button {
    margin: 0;
    cursor: pointer;
  }

  time {
    font-family: monospace;
    font-style: normal;
    font-size: 15px;
  }

  main {
    line-height: 1.6;
  }

  table {
    width: 100%;
  }

  hr {
    border: 0;
    border-top: 1px dashed;
  }

  img {
    max-width: 100%;
  }

  code {
    font-family: monospace;
    padding: 2px;
    background-color: var(--code-background-color);
    color: var(--code-color);
    border-radius: 3px;
  }

  blockquote {
    border-left: 1px solid #999;
    color: var(--code-color);
    padding-left: 20px;
    font-style: italic;
  }

  footer {
    padding: 25px 0;
    text-align: center;
  }

  .title:hover {
    text-decoration: none;
  }

  .title h1 {
    font-size: 1.5em;
  }

  .inline {
    width: auto !important;
  }

  .highlight,
  .code {
    padding: 1px 15px;
    background-color: var(--code-background-color);
    color: var(--code-color);
    border-radius: 3px;
    margin-block-start: 1em;
    margin-block-end: 1em;
    overflow-x: auto;
  }

   
  ul.blog-posts {
    list-style-type: none;
    padding: unset;
  }

  ul.blog-posts li {
    display: flex;
  }

  ul.blog-posts li span {
    flex: 0 0 130px;
  }

  ul.blog-posts li a:visited {
    color: var(--visited-color);
  }

</style>

</head>

<body>
  <header><a href="/" class="title">
  <h2>John Montroy</h2>
</a>
<nav>
<a href="/">home</a>

<a href="/blog/">blog</a>

<a href="/notes/">notes</a>

<a href="/music/">music</a>

</nav>
</header>
  <main>

<h1>Container Security: Ch. 7 - Software Vulnerability in Images</h1>
<p>
  <i>
    <time datetime='2024-10-11'>
      11 Oct, 2024
    </time>
  </i>
</p>

<content>
  <p><img src="004b14_104b94b91c2d4f8c95132bac9338b526~mv2.jpeg" alt="&hellip;was my prompt to chatgpt, kinda feel like it dropped the &quot;in&quot;" title="insecure software"></p>
<p>We need to scan for vulnerabilities in our container images. Vulnerabilities are publicly documented with a CVE - <a href="https://cve.mitre.org/">Common Vulnerabilities and Exposures</a> - number, assigned by CNAs (CVE Numbering Authorities). The <a href="https://nvd.nist.gov/">National Vulnerabilities Database</a> (NVD) lists these vulnerabilities for visibility and usage.</p>
<p>Traditionally, we scan for vulnerabilities in software by listing out software installed on a host (via the root filesystem + software installed by a package manager like <em>npm</em> or <em>brew</em> + manual / adhoc installs via <em>wget</em> or <em>curl</em> (not a great idea)). Software can be updated or patched directly on the host.</p>
<p>Nowadays, SSHing and patching/updating is not a good practice - we have containers, and we can treat our containers as immutable. Containers that download their own software are hard to manage uniformly. You can keep a container immutable by having the filesystem read-only, and storing writes on some kind of <em>tmpfs</em>. Immutable containers have many advantages:</p>
<ul>
<li>You only have to scan/rescan one image instead of potentially thousands of containers, since all containers spawned from that image will be identical.</li>
<li>You can build vulnerability scanners into your CI/CD pipeline, close to your image builds - this is a form of &ldquo;<a href="https://www.crowdstrike.com/cybersecurity-101/shift-left-security/">shift left</a>&rdquo;. Then you can scan locally, on build, and also once the image hits your registry.</li>
<li>You can use admission controllers and policies to reject images that fail a scan (remember to think deeply about how you identify an image! By tag? By digest?).</li>
<li>You can rescan images every 24 hours as vulnerability databases update (remember, lots of vulnerabilities are found in software that is years, or even decades, old!).</li>
<li>Scanner can detect things beyond vulnerabilities, like:
<ul>
<li><em>setuid</em> bit set</li>
<li>Images running as root</li>
<li>Secrets injected improperly</li>
</ul>
</li>
</ul>
<p>So immutable containers + scanners in CI/CD are deeply helpful. What are some pitfalls?</p>
<ul>
<li>Vulnerability sources can be out of date, or perhaps encompass vulnerabilities that aren&rsquo;t applicable to your distribution (false positives).</li>
<li>Some vulnerabilities are listed as &ldquo;won&rsquo;t fix&rdquo; - should you ignore them in your scanner?</li>
<li>Some packages allow installation with only a subset of subpackages - like, installing just docs from the bind Ubuntu package shouldn&rsquo;t get you in trouble for broader bind vulnerabilities.</li>
<li>Nothing will 100% save you from 0-days or non-public nation-state issues.</li>
</ul>

</content>
<p>
  
  <a href="http://localhost:1313/blog/container-security/">#Container-Security</a>
  
</p>

  </main>
  <footer>Made with <a href="https://github.com/janraasch/hugo-bearblog/">Hugo ʕ•ᴥ•ʔ Bear</a>
</footer>

  
</body>

</html>
